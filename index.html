<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bharath YouTube Player</title>
<style>
  body {
    margin:0; background:#111; color:#fff; font-family:sans-serif; 
    display:flex; flex-direction:column; height:100vh;
  }
  header, footer {
    background:#000; text-align:center; padding:12px; font-weight:bold;
  }
  .player-wrap {
    position:relative; width:100%; flex:0 0 auto;
    max-height:50vh; transition:all 0.3s ease;
  }
  .player-wrap::before { content:''; display:block; padding-top:56.25%; }
  iframe {
    position:absolute; top:0; left:0; width:100%; height:100%;
    border:0; background:black;
  }
  .channels { flex:1; overflow-y:auto; background:#181818; }
  .channel {
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 14px; border-bottom:1px solid #222; cursor:pointer;
  }
  .channel.active { background:#2196f3; }
  .channel span { font-size:14px; }
  .lang { color:#aaa; font-size:12px; }
</style>
</head>
<body>

<header>ðŸ“º Bharath YouTube Player</header>

<div class="player-wrap" id="playerWrap">
  <iframe id="ytPlayer" 
          src="https://www.youtube.com/embed/I7dbhLnigEQ?autoplay=1&mute=0" 
          allowfullscreen 
          allow="autoplay; fullscreen; encrypted-media">
  </iframe>
</div>

<div class="channels" id="channelList"></div>

<footer>Â© 2025 Bharath TV | Rotate for fullscreen</footer>

<script>
const channels = [
  { name: "Reporter TV", lang: "ML", id: "nObUcHKZEGY" },
  { name: "Asianet News", lang: "ML", id: "tXRuaacO-ZU" },
  { name: "24 News", lang: "ML", id: "1wECsnGZcfc" },
  { name: "Manorama News", lang: "ML", id: "tgBTspqA5nY" },
  { name: "Kairali News", lang: "ML", id: "yiiqRHY1Bl8" },
  { name: "Janam TV", lang: "ML", id: "yKWe25rKSpU" },
  { name: "Mathrubhumi News", lang: "ML", id: "YGEgelAiUf0" },
  { name: "Media One TV", lang: "ML", id: "-8d8-c0yvyU" },
  { name: "YRF Music", lang: "HI", id: "yvWggAG_x1I" },
  { name: "Good Life Music", lang: "EN", id: "36YnV9STBqc" }
];

const list = document.getElementById("channelList");
const player = document.getElementById("ytPlayer");
const wrap = document.getElementById("playerWrap");

function loadChannel(index) {
  const ch = channels[index];
  player.src = `https://www.youtube.com/embed/${ch.id}?autoplay=1&mute=0`;
  [...list.children].forEach((row, i) => {
    row.classList.toggle("active", i === index);
  });
}

channels.forEach((ch, i) => {
  const row = document.createElement("div");
  row.className = "channel";
  row.innerHTML = `<span>${ch.name}</span><span class="lang">${ch.lang}</span>`;
  row.onclick = () => loadChannel(i);
  list.appendChild(row);
});
loadChannel(0);

// ðŸŒ€ Auto fullscreen on rotate
async function handleOrientation() {
  if (window.matchMedia("(orientation: landscape)").matches) {
    // request fullscreen
    try {
      if (wrap.requestFullscreen) await wrap.requestFullscreen();
      else if (wrap.webkitRequestFullscreen) await wrap.webkitRequestFullscreen();
    } catch (err) {
      console.log("Fullscreen blocked by user gesture");
    }
  } else {
    if (document.fullscreenElement) document.exitFullscreen();
  }
}

// Listen for rotation changes
window.addEventListener("orientationchange", handleOrientation);
</script>

</body>
</html>
